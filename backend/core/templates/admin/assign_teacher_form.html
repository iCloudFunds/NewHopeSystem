{% extends "admin/base_site.html" %}
{% load i18n %}

{% block content %}
<h1>{{ title }}</h1>

<div style="margin-bottom: 20px; padding: 15px; background-color: #f8f9fa; border-left: 4px solid #0d6efd;">
    <h3 style="margin-top: 0;">ğŸ“‹ Selected Classes</h3>
    <ul>
        {% for class in classes %}
        <li><strong>{{ class.name }}</strong> - {{ class.department.name }} ({{ class.academic_year }})</li>
        {% endfor %}
    </ul>
</div>

<form method="post">
    {% csrf_token %}
    
    <div style="margin-bottom: 20px;">
        <label for="teacher" style="display: block; margin-bottom: 8px; font-weight: bold;">
            ğŸ‘¨â€ğŸ« Select Teacher to Assign:
        </label>
        <select name="teacher" id="teacher" style="width: 50%; padding: 8px; font-size: 14px;">
            <option value="">-- Select a teacher --</option>
            {% for teacher in teachers %}
            <option value="{{ teacher.id }}">
                {{ teacher.full_name }} ({{ teacher.teacher_id }}) - {{ teacher.department.name }}
            </option>
            {% endfor %}
        </select>
    </div>
    
    <div style="margin-top: 20px;">
        <input type="submit" value="Assign Teacher" class="default" style="padding: 10px 20px;">
        <a href="{% url 'admin:core_class_changelist' %}" style="margin-left: 10px; padding: 9px 15px; background: #6c757d; color: white; text-decoration: none; border-radius: 4px;">Cancel</a>
    </div>
</form>

{% if teachers|length == 0 %}
<div style="margin-top: 20px; padding: 15px; background-color: #fff3cd; border-left: 4px solid #ffc107;">
    <strong>âš ï¸ No active teachers found.</strong>
    <p>You need to create teachers first. <a href="{% url 'admin:core_teacher_add' %}">Add a new teacher</a></p>
</div>
{% endif %}
{% endblock %}