{% extends "admin/base.html" %}
{% load static %}

{% block title %}{% if subtitle %}{{ subtitle }} | {% endif %}{{ title }} | {{ site_title|default:_('Django site admin') }}{% endblock %}

{% block branding %}
<div id="site-header">
    <!-- School Logo -->
    <div class="logo-container">
        <img src="{% static 'images/logo.png' %}" alt="School Logo" class="school-logo">
    </div>
    <div class="site-title">
        <h1 id="site-name"><a href="{% url 'admin:index' %}">New Hope System Admin</a></h1>
        <div class="contact-header">
            <span class="contact-item"><i class="phone-icon"></i> Calls: +237650979636</span>
            <span class="contact-item"><i class="whatsapp-icon"></i> WhatsApp: +237650979636</span>
            <span class="contact-item"><i class="email-icon"></i> Email: newhopecollege@gmail.com</span>
        </div>
    </div>
</div>
{% endblock %}

{% block nav-global %}{% endblock %}

{% block extrastyle %}
{{ block.super }}
<style>
    :root {
        --rising-sun: #FF8C00 !important;
        --rising-sun-light: #FFA726 !important;
        --rising-sun-dark: #E65100 !important;
        --accent-blue: #3A86FF !important;
        --accent-blue-light: #5DA1FF !important;
        --accent-blue-dark: #1C6BEB !important;
        --dark-grey: #1A1A1A !important;
        --grey-medium: #2D2D2D !important;
        --grey-light: #3A3A3A !important;
        --text-light: #E0E0E0 !important;
        --text-lighter: #FFFFFF !important; /* Pure white for bold text */
        --white: #FFFFFF !important;
    }
    
    /* Overall admin background */
    body, #container {
        background-color: var(--dark-grey) !important;
        color: var(--text-light) !important;
    }
    
    #content {
        background-color: var(--dark-grey) !important;
    }
    
    /* Font adjustments */
    body {
        font-size: 14px !important;
        font-weight: 500 !important;
        line-height: 1.5 !important;
    }
    
    /* Header Styling */
    #site-header {
        display: flex !important;
        align-items: center !important;
        padding: 10px 20px !important;
        background-color: var(--grey-medium) !important;
        border-bottom: 3px solid var(--rising-sun) !important;
    }
    
    .logo-container {
        margin-right: 15px !important;
    }
    
    .school-logo {
        height: 50px !important;
        width: auto !important;
        max-width: 120px !important;
        object-fit: contain !important;
    }
    
    .site-title {
        flex-grow: 1 !important;
    }
    
    #site-name a {
        color: var(--rising-sun) !important;
        font-weight: 700 !important;
        text-decoration: none !important;
        font-size: 20px !important;
    }
    
    #site-name a:hover {
        color: var(--rising-sun-light) !important;
    }
    
    .contact-header {
        display: flex !important;
        gap: 15px !important;
        margin-top: 5px !important;
        flex-wrap: wrap !important;
    }
    
    .contact-item {
        color: var(--accent-blue-light) !important;
        font-size: 12px !important;
        font-weight: 500 !important;
    }
    
    /* Main Admin Styling */
    #header {
        background-color: var(--grey-medium) !important;
        color: var(--text-lighter) !important;
        border-bottom: 3px solid var(--rising-sun) !important;
    }
    
    .module h2, .module caption, .inline-group h2 {
        background: linear-gradient(135deg, var(--accent-blue-dark) 0%, var(--accent-blue) 100%) !important;
        color: var(--text-lighter) !important;
        border: none !important;
        font-size: 16px !important;
        font-weight: 700 !important; /* Bold */
        padding: 12px 15px !important;
    }
    
    div.breadcrumbs {
        background-color: var(--grey-light) !important;
        color: var(--text-light) !important;
        border: none !important;
        font-size: 13px !important;
        font-weight: 500 !important;
        padding: 8px 15px !important;
    }
    
    .breadcrumbs a {
        color: var(--accent-blue-light) !important;
        font-weight: 600 !important;
    }
    
    .breadcrumbs a:hover {
        color: var(--rising-sun) !important;
    }
    
    /* SIDEBAR STYLING - BOLD WHITE TEXT */
    /* App list module headers */
    #content-related .module h2,
    .module h2 {
        color: var(--text-lighter) !important;
        font-weight: 700 !important; /* Bold */
        text-transform: uppercase !important;
        letter-spacing: 0.5px !important;
    }
    
    /* Sidebar app list items */
    #content-related .module,
    #content-related .module ul,
    #content-related .module li,
    #content-related .module a,
    .module,
    .module ul,
    .module li,
    .module a {
        color: var(--text-lighter) !important; /* Pure white */
        font-weight: 600 !important; /* Bold */
    }
    
    /* Sidebar links */
    .module a:link,
    .module a:visited {
        color: var(--text-lighter) !important;
        font-weight: 600 !important;
        text-decoration: none !important;
    }
    
    .module a:hover {
        color: var(--rising-sun) !important;
        font-weight: 600 !important;
        text-decoration: underline !important;
    }
    
    /* Sidebar "+ Add" links */
    .addlink {
        color: var(--rising-sun) !important;
        font-weight: 700 !important;
    }
    
    .addlink:hover {
        color: var(--rising-sun-light) !important;
        text-decoration: underline !important;
    }
    
    /* GO BOX - Increased height and better styling */
    .actions {
        background-color: var(--grey-medium) !important;
        padding: 15px !important;
        margin-bottom: 20px !important;
        border: 1px solid var(--grey-light) !important;
        border-radius: 5px !important;
    }
    
    .actions select {
        min-height: 40px !important;
        height: 40px !important;
        padding: 10px !important;
        font-size: 14px !important;
        background-color: var(--dark-grey) !important;
        color: var(--text-light) !important;
        border: 2px solid var(--accent-blue) !important;
        border-radius: 4px !important;
        margin-right: 10px !important;
    }
    
    .actions input[type="submit"] {
        min-height: 40px !important;
        height: 40px !important;
        padding: 0 25px !important;
        font-size: 14px !important;
        font-weight: 700 !important; /* Bold */
        background: linear-gradient(135deg, var(--rising-sun) 0%, var(--rising-sun-dark) 100%) !important;
        color: var(--text-lighter) !important; /* Bold white */
        border: 2px solid var(--accent-blue) !important;
        border-radius: 4px !important;
        cursor: pointer !important;
        transition: all 0.3s ease !important;
    }
    
    .actions input[type="submit"]:hover {
        background: linear-gradient(135deg, var(--rising-sun-light) 0%, var(--rising-sun) 100%) !important;
        border-color: var(--accent-blue-light) !important;
        transform: translateY(-2px) !important;
    }
    
    .actions label {
        color: var(--text-lighter) !important; /* Bold white */
        font-weight: 700 !important; /* Bold */
        margin-right: 10px !important;
    }
    
    /* Buttons - general */
    .button, input[type="submit"], input[type="button"], .submit-row input, a.button {
        min-height: 36px !important;
        height: 36px !important;
        padding: 8px 16px !important;
        font-size: 14px !important;
        font-weight: 700 !important; /* Bold */
        background: linear-gradient(135deg, var(--rising-sun) 0%, var(--rising-sun-dark) 100%) !important;
        color: var(--text-lighter) !important; /* Bold white */
        border: 2px solid var(--accent-blue) !important;
        border-radius: 4px !important;
        line-height: 1.2 !important;
    }
    
    .button:hover, input[type="submit"]:hover, input[type="button"]:hover, .submit-row input:hover, a.button:hover {
        background: linear-gradient(135deg, var(--rising-sun-light) 0%, var(--rising-sun) 100%) !important;
        border-color: var(--accent-blue-light) !important;
    }
    
    .button.default, input[type="submit"].default, .submit-row input.default {
        background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-blue-light) 100%) !important;
        border: 2px solid var(--rising-sun) !important;
    }
    
    /* Links */
    a:link, a:visited {
        color: var(--accent-blue-light) !important;
        font-weight: 600 !important;
    }
    
    a:hover {
        color: var(--rising-sun) !important;
    }
    
    /* Table styling - TABLE HEADERS BOLD WHITE */
    #changelist {
        background-color: var(--dark-grey) !important;
    }
    
    #changelist table {
        background-color: var(--grey-medium) !important;
        border: 1px solid var(--grey-light) !important;
    }
    
    #changelist .paginator {
        background-color: var(--grey-medium) !important;
        color: var(--text-light) !important;
        border: 1px solid var(--grey-light) !important;
    }
    
    /* TABLE HEADERS - BOLD WHITE */
    th {
        font-weight: 700 !important; /* Bold */
        background-color: var(--accent-blue-dark) !important;
        color: var(--text-lighter) !important; /* Bold white */
        text-transform: uppercase !important;
        letter-spacing: 0.5px !important;
        font-size: 13px !important;
    }
    
    /* Table cell text */
    td {
        font-size: 13px !important;
        font-weight: 500 !important;
        color: var(--text-light) !important;
        border-color: var(--grey-light) !important;
        padding: 12px 15px !important;
        line-height: 1.4 !important;
    }
    
    /* Alternating row colors */
    tr:nth-child(odd) {
        background-color: var(--grey-medium) !important;
    }
    
    tr:nth-child(even) {
        background-color: var(--grey-light) !important;
    }
    
    tr:hover {
        background-color: var(--accent-blue-dark) !important;
        opacity: 0.9 !important;
    }
    
    tr:hover td {
        color: var(--text-lighter) !important;
        font-weight: 600 !important;
    }
    
    #changelist-filter {
        background-color: var(--grey-medium) !important;
        border-left: 3px solid var(--rising-sun) !important;
        font-size: 13px !important;
    }
    
    #changelist-filter h2 {
        background-color: var(--accent-blue-dark) !important;
        color: var(--text-lighter) !important; /* Bold white */
        font-size: 14px !important;
        font-weight: 700 !important; /* Bold */
        padding: 10px !important;
    }
    
    #changelist-filter h3 {
        color: var(--text-lighter) !important; /* Bold white */
        font-weight: 700 !important; /* Bold */
        margin-top: 15px !important;
    }
    
    #changelist-filter ul {
        color: var(--text-light) !important;
    }
    
    #changelist-filter a {
        color: var(--accent-blue-light) !important;
        font-weight: 600 !important;
    }
    
    #changelist-filter a:hover {
        color: var(--rising-sun) !important;
    }
    
    /* Form labels and text */
    label, .form-row label {
        font-weight: 700 !important; /* Bold */
        color: var(--text-lighter) !important; /* Bold white */
        font-size: 13px !important;
    }
    
    /* Input fields */
    input[type="text"], input[type="password"], input[type="email"], input[type="url"], 
    input[type="number"], input[type="tel"], textarea, select, .vTextField {
        background-color: var(--dark-grey) !important;
        color: var(--text-light) !important;
        border: 2px solid var(--grey-light) !important;
        border-radius: 4px !important;
        padding: 10px !important;
        font-size: 14px !important;
        min-height: 40px !important;
    }
    
    input[type="text"]:focus, input[type="password"]:focus, input[type="email"]:focus, 
    input[type="url"]:focus, input[type="number"]:focus, input[type="tel"]:focus, 
    textarea:focus, select:focus {
        border-color: var(--rising-sun) !important;
        outline: none !important;
        box-shadow: 0 0 5px var(--rising-sun) !important;
    }
    
    /* Footer */
    #footer {
        background-color: var(--grey-medium) !important;
        color: var(--text-light) !important;
        border-top: 3px solid var(--rising-sun) !important;
        padding: 20px !important;
        text-align: center;
        font-size: 13px !important;
    }
    
    .custom-footer {
        margin-top: 20px !important;
        padding-top: 20px !important;
        border-top: 2px solid var(--accent-blue) !important;
    }
    
    .contact-footer {
        display: flex !important;
        justify-content: center !important;
        gap: 25px !important;
        flex-wrap: wrap !important;
        margin-bottom: 15px !important;
    }
    
    .contact-footer-item {
        color: var(--accent-blue-light) !important;
        font-size: 13px !important;
        font-weight: 700 !important; /* Bold */
    }
    
    .promotion-message {
        font-style: italic !important;
        color: var(--rising-sun) !important;
        margin: 10px 0 !important;
        font-size: 15px !important;
        font-weight: 700 !important; /* Bold */
    }
    
    .company-credit {
        color: var(--accent-blue-light) !important;
        font-weight: 800 !important; /* Extra bold */
        font-size: 16px !important;
        margin-top: 15px !important;
    }
    
    /* Help text */
    .help, .help-tooltip, p.help {
        font-size: 12px !important;
        color: var(--accent-blue-light) !important;
        font-weight: 500 !important;
    }
    
    /* Select all checkbox */
    #action-toggle {
        height: 18px !important;
        width: 18px !important;
        margin-right: 8px !important;
    }
    
    /* Search box */
    #searchbar {
        background-color: var(--dark-grey) !important;
        color: var(--text-light) !important;
        border: 2px solid var(--grey-light) !important;
        border-radius: 4px !important;
        padding: 8px 12px !important;
        font-size: 13px !important;
    }
    
    #searchbar:focus {
        border-color: var(--rising-sun) !important;
        outline: none !important;
        box-shadow: 0 0 5px var(--rising-sun) !important;
    }
    
    /* Object tools */
    .object-tools {
        background-color: var(--grey-medium) !important;
        padding: 10px !important;
        border-radius: 4px !important;
        margin-bottom: 15px !important;
    }
    
    .object-tools a {
        color: var(--text-lighter) !important;
        font-weight: 700 !important; /* Bold */
        background-color: var(--accent-blue) !important;
        padding: 8px 16px !important;
        border-radius: 4px !important;
        text-decoration: none !important;
    }
    
    .object-tools a:hover {
        background-color: var(--accent-blue-light) !important;
        color: var(--text-lighter) !important;
    }
    
    /* Responsive Design */
    @media (max-width: 768px) {
        #site-header {
            flex-direction: column !important;
            text-align: center !important;
            padding: 10px !important;
        }
        
        .logo-container {
            margin-right: 0 !important;
            margin-bottom: 10px !important;
        }
        
        .school-logo {
            height: 45px !important;
        }
        
        #site-name a {
            font-size: 18px !important;
        }
        
        .contact-header {
            justify-content: center !important;
            gap: 10px !important;
        }
        
        .contact-item {
            font-size: 11px !important;
        }
        
        .contact-footer {
            flex-direction: column !important;
            gap: 10px !important;
        }
        
        .contact-footer-item {
            font-size: 12px !important;
        }
        
        .promotion-message {
            font-size: 14px !important;
        }
        
        .company-credit {
            font-size: 15px !important;
        }
        
        body {
            font-size: 13px !important;
        }
        
        .actions select,
        .actions input[type="submit"] {
            min-height: 36px !important;
            height: 36px !important;
            font-size: 13px !important;
        }
        
        th, td {
            font-size: 12px !important;
            padding: 8px 10px !important;
        }
    }
</style>
{% endblock %}

{% block footer %}
<div class="custom-footer">
    <div class="contact-footer">
        <div class="contact-footer-item">
            <strong>WhatsApp:</strong> +237671322472
        </div>
        <div class="contact-footer-item">
            <strong>Calls:</strong> +237652924816
        </div>
        <div class="contact-footer-item">
            <strong>Email:</strong> nde.kenneth61@gmail.com
        </div>
    </div>
    
    <div class="promotion-message">
        think it we create it
    </div>
    
    <div class="company-credit">
        powered by skynet tech
    </div>
</div>

{{ block.super }}
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Wait a bit to ensure the DOM is fully loaded
    setTimeout(function() {
        const recentActionsModule = document.getElementById('recent-actions-module');
        
        if (!recentActionsModule) {
            console.log('Recent actions module not found');
            return;
        }
        
        // Find the header (h2) inside the recent actions module
        const header = recentActionsModule.querySelector('h2');
        if (!header) {
            console.log('Header not found in recent actions module');
            return;
        }
        
        // Create toggle button
        const toggleBtn = document.createElement('button');
        toggleBtn.className = 'recent-actions-toggle-btn';
        toggleBtn.type = 'button';
        
        // Check localStorage for saved state
        const isHidden = localStorage.getItem('recentActionsHidden') === 'true';
        
        // Set initial button text and hide/show content
        if (isHidden) {
            toggleBtn.textContent = 'Show Recent Actions';
            recentActionsModule.classList.add('recent-actions-hidden');
        } else {
            toggleBtn.textContent = 'Hide Recent Actions';
        }
        
        // Add button to header
        header.appendChild(toggleBtn);
        
        // Toggle functionality
        toggleBtn.addEventListener('click', function() {
            if (recentActionsModule.classList.contains('recent-actions-hidden')) {
                // Currently hidden, show it
                recentActionsModule.classList.remove('recent-actions-hidden');
                toggleBtn.textContent = 'Hide Recent Actions';
                localStorage.setItem('recentActionsHidden', 'false');
            } else {
                // Currently shown, hide it
                recentActionsModule.classList.add('recent-actions-hidden');
                toggleBtn.textContent = 'Show Recent Actions';
                localStorage.setItem('recentActionsHidden', 'true');
            }
        });
        
        // Keyboard shortcut: Ctrl+Shift+R or Cmd+Shift+R
        document.addEventListener('keydown', function(e) {
            if ((e.ctrlKey || e.metaKey) && e.shiftKey && (e.key === 'R' || e.key === 'r')) {
                e.preventDefault();
                toggleBtn.click();
            }
        });
        
    }, 100); // 100ms delay
});
</script>
{% endblock %}